(this["webpackJsonpapp-bill-management"]=this["webpackJsonpapp-bill-management"]||[]).push([[0],{50:function(e,t,a){},52:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var c=a(3),n=a.n(c),s=a(20),r=a.n(s),l=(a(50),a(51),a(52),a(17)),i=a(7),j=a(14),b=a(4),o=a(8),d=a(34);a(58);d.a.initializeApp({apiKey:"AIzaSyDDt9w-W8kKe1bLTcAR0fgc68MnSe4X0og",authDomain:"manage-bills-9fe1b.firebaseapp.com",databaseURL:"https://manage-bills-9fe1b-default-rtdb.firebaseio.com",projectId:"manage-bills-9fe1b",storageBucket:"manage-bills-9fe1b.appspot.com",messagingSenderId:"658814832620",appId:"1:658814832620:web:9d1a4b9459db9bc3c97ac9"});var O=d.a,h=a(2);function u(e){var t,a,n=Object(c.useState)({name:"",email:"",password:""}),s=Object(o.a)(n,2),r=s[0],l=s[1],i=function(e){t=e.target.name,a=e.target.value,l(Object(b.a)(Object(b.a)({},r),{},Object(j.a)({},t,a)))};return Object(h.jsx)("div",{children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=r.name,a=r.email,c=r.password;t&&a&&c?(O.firestore().collection("userData").add({name:t,email:a,password:c}).then((function(e){alert("Data Successfully Submitted")})).catch((function(e){console.error("Error adding document: ",e)})),alert("Data Stored Successfully"),l({name:"",email:"",password:""})):alert("Please all the required fields")},method:"POST",children:[Object(h.jsx)("h3",{children:"Sign Up"}),Object(h.jsxs)("div",{class:"form-group",children:[Object(h.jsx)("b",{children:Object(h.jsx)("label",{for:"name",children:"Enter Name*"})}),Object(h.jsx)("input",{type:"text",class:"form-control",id:"name",name:"name","aria-describedby":"nameHelp",placeholder:"Enter your name here.",value:r.name,onChange:i})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{class:"form-group",children:[Object(h.jsx)("b",{children:Object(h.jsx)("label",{for:"email",children:"Enter Email*"})}),Object(h.jsx)("input",{type:"email",class:"form-control",id:"email",name:"email","aria-describedby":"emailHelp",placeholder:"Enter your email here.",value:r.email,onChange:i})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{class:"form-group",children:[Object(h.jsx)("b",{children:Object(h.jsx)("label",{for:"password",children:"Enter password*"})}),Object(h.jsx)("input",{type:"password",class:"form-control",id:"password",name:"password","aria-describedby":"passwordHelp",placeholder:"Enter your password here.",value:r.password,onChange:i})]}),Object(h.jsx)("br",{}),Object(h.jsx)("button",{type:"submit",className:"btn btn-dark btn-sm btn-block",children:"Register"})]})})}var m=a(33),x=a.n(m),p=a(37),f=a(24),v=a(22);function g(){return Object(h.jsx)("div",{children:Object(h.jsxs)(f.a,{className:"text-center",children:[Object(h.jsx)(f.a.Header,{children:"Bill"}),Object(h.jsxs)(f.a.Body,{children:[Object(h.jsx)(f.a.Title,{children:"Milk Consumption Bill"}),Object(h.jsx)(f.a.Text,{children:"This help you to add, view, calculate your month bill for milk consumption."}),Object(h.jsx)(l.b,{to:"/viewData",children:Object(h.jsx)(v.a,{variant:"primary",children:"View"})})," \xa0\xa0",Object(h.jsx)(l.b,{to:"/addDetails",children:Object(h.jsx)(v.a,{variant:"primary",children:"Add"})})," \xa0\xa0",Object(h.jsx)(l.b,{to:"/calculateBill",children:Object(h.jsx)(v.a,{variant:"primary",children:"Calculate"})})]}),Object(h.jsx)(f.a.Footer,{className:"text-muted",children:"2 days ago"})]})})}function k(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(!1),r=Object(o.a)(s,2),l=r[0],i=r[1];Object(c.useEffect)((function(){O.firestore().collection("userData").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),n(t)}))}),[]);var d,u,m=Object(c.useState)({email:"",password:""}),f=Object(o.a)(m,2),v=f[0],k=f[1],y=function(e){d=e.target.name,u=e.target.value,k(Object(b.a)(Object(b.a)({},v),{},Object(j.a)({},d,u)))},w=function(){var e=Object(p.a)(x.a.mark((function e(t){var c,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),c=v.email,n=v.password,c&&n&&a.forEach((function(e){c==e.email&&n==e.password&&i(!0)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l?Object(h.jsx)("div",{children:Object(h.jsx)(g,{})}):Object(h.jsx)("div",{children:Object(h.jsxs)("form",{onSubmit:w,children:[Object(h.jsx)("h3",{children:"Log in"}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"Email"}),Object(h.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter email",name:"email",value:v.email,onChange:y})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"Password"}),Object(h.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password",name:"password",value:v.password,onChange:y})]}),Object(h.jsx)("br",{}),Object(h.jsx)("button",{type:"submit",className:"btn btn-dark btn-md btn-block",children:"Sign in"}),Object(h.jsxs)("p",{className:"forgot-password text-right",children:["Forgot ",Object(h.jsx)("a",{href:"#",children:"password?"})]})]})})}var y=function(){var e,t,a=Object(c.useState)({date:"",taken:""}),n=Object(o.a)(a,2),s=n[0],r=n[1],i=Object(c.useState)(!1),d=Object(o.a)(i,2),u=d[0],m=d[1],x=Object(c.useState)(!1),p=Object(o.a)(x,2),f=p[0],v=p[1],g=function(e){"yes"==e.target.value?v(!0):v(!1),m(e.target.value)},k=function(a){e=a.target.name,t=a.target.value,r(Object(b.a)(Object(b.a)({},s),{},Object(j.a)({},e,t)))};return Object(h.jsx)("div",{children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=s.date,a=s.taken;""==a&&0==f&&(a=0);var c=O.firestore().collection("billData").doc(t);t&&c.set({date:t,taken:a}).then((function(e){alert("Data Successfully Submitted"),r({date:"",taken:""}),v(!1)})).catch((function(e){console.error("Error adding document: ",e)}))},children:[Object(h.jsx)("h3",{children:"Today's Add up"}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"Date"}),Object(h.jsx)("input",{type:"date",className:"form-control",name:"date",onChange:k})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"radio",children:[Object(h.jsx)("label",{children:"Milk taken: \xa0\xa0"}),Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{type:"radio",value:"yes",checked:"yes"===u,onChange:g}),"Yes"]}),"\xa0\xa0\xa0\xa0",Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{type:"radio",value:"no",checked:"no"===u,onChange:g}),"No"]})]}),Object(h.jsx)("br",{}),f?Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"Milk taken"}),Object(h.jsx)("input",{type:"text",className:"form-control",name:"taken",value:s.taken,onChange:k})]}):Object(h.jsx)("input",{type:"text",className:"form-control",name:"taken",value:"0",disabled:!0})," ",Object(h.jsx)("br",{}),Object(h.jsx)("button",{type:"submit",className:"btn btn-dark btn-sm btn-block",children:"Save"}),"\xa0 \xa0",Object(h.jsx)(l.b,{to:"/dashboard",children:Object(h.jsx)("button",{type:"submit",className:"btn btn-dark btn-sm btn-block",children:"Cancel"})})]})})},w=a(65);var N=function(){var e,t,a=Object(c.useState)({startdate:"",enddate:"",price:1}),n=Object(o.a)(a,2),s=n[0],r=n[1],i=Object(c.useState)(!1),d=Object(o.a)(i,2),u=d[0],m=d[1],x=Object(c.useState)(0),p=Object(o.a)(x,2),f=p[0],v=p[1],g=Object(c.useState)(0),k=Object(o.a)(g,2),y=(k[0],k[1]),N=function(a){e=a.target.name,t=a.target.value,r(Object(b.a)(Object(b.a)({},s),{},Object(j.a)({},e,t)))};return Object(h.jsxs)("div",{children:[Object(h.jsxs)(w.a,{show:u,onHide:function(){return m(!1)},backdrop:"static",keyboard:!1,children:[Object(h.jsx)(w.a.Header,{closeButton:!0,children:Object(h.jsx)(w.a.Title,{children:"Summary"})}),Object(h.jsx)(w.a.Body,{children:Object(h.jsxs)("table",{children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Bill Amount"}),Object(h.jsx)("td",{children:Object(h.jsxs)("b",{children:["Rs. ",f]})})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Date"}),Object(h.jsx)("td",{children:"13/12/2021"})]}),Object(h.jsx)("tr",{children:Object(h.jsx)("a",{href:"#",children:"View Detailed Summary"})})]})}),Object(h.jsx)(w.a.Footer,{})]}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=s.startdate,a=s.enddate,c=s.price,n=0;if(t&&a&&c){O.firestore().collection("billData").where("date",">=",t).where("date","<=",a).get().then((function(e){e.forEach((function(e){n+=parseFloat(e.data().taken,2)})),v(c*n),y(n),m(!0)}))}},children:[Object(h.jsx)("h3",{children:"Calculate the total"}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"Start Date: "}),Object(h.jsx)("input",{type:"date",className:"form-control",name:"startdate",onChange:N}),Object(h.jsx)("br",{}),Object(h.jsx)("label",{children:"End Date: "}),Object(h.jsx)("input",{type:"date",className:"form-control",name:"enddate",onChange:N})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"Price @today: "}),Object(h.jsx)("input",{type:"number",className:"form-control",placeholder:"Enter the price of milk @today",name:"price",value:s.price,onChange:N})]}),Object(h.jsx)("button",{type:"submit",className:"btn btn-dark btn-sm btn-block",children:"Calculate"}),"\xa0 \xa0",Object(h.jsx)(l.b,{to:"/dashboard",children:Object(h.jsx)("button",{type:"submit",className:"btn btn-dark btn-sm btn-block",children:"Cancel"})})]})]})};function S(){var e,t,a=Object(c.useState)({date:"",taken:0}),n=Object(o.a)(a,2),s=n[0],r=n[1],i=Object(c.useState)([]),d=Object(o.a)(i,2),u=d[0],m=d[1],x=Object(c.useState)(!1),p=Object(o.a)(x,2),f=p[0],g=p[1];Object(c.useEffect)((function(){var e=[],t=O.firestore().collection("billData");console.log(t),t.onSnapshot((function(t){t.forEach((function(t){console.log(t),e.push({date:t.data().date,taken:t.data().taken})})),e.sort((function(e,t){return new Date(e.date)-new Date(t.date)})),m(e)}))}),[]);var k=function(e){g(!0),r({date:e.date,taken:e.taken})};return Object(h.jsxs)("div",{children:[Object(h.jsxs)(w.a,{show:f,onHide:function(){return g(!1)},backdrop:"static",keyboard:!1,children:[Object(h.jsx)(w.a.Header,{closeButton:!0,children:Object(h.jsx)(w.a.Title,{children:"Update!"})}),Object(h.jsx)(w.a.Body,{children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=s.date,a=s.taken;t&&a&&(O.firestore().collection("billData").doc(t).update({date:t,taken:a}),window.location.reload(!0))},children:[Object(h.jsx)("h3",{children:"Edit for date: "}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"Date"}),Object(h.jsx)("input",{type:"date",className:"form-control",name:"date",value:s.date,disabled:!0})]}),Object(h.jsx)("br",{}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"number",className:"form-control",name:"taken",value:s.taken,onChange:function(a){e=a.target.name,t=a.target.value,r(Object(b.a)(Object(b.a)({},s),{},Object(j.a)({},e,t)))}})}),Object(h.jsx)("br",{}),Object(h.jsx)("button",{type:"submit",className:"btn btn-dark btn-sm btn-block",children:"Save"}),"\xa0 \xa0",Object(h.jsx)(l.b,{to:"/viewData",children:Object(h.jsx)("button",{type:"submit",className:"btn btn-dark btn-sm btn-block",children:"Cancel"})})]})}),Object(h.jsx)(w.a.Footer,{})]}),Object(h.jsxs)("table",{class:"table",children:[Object(h.jsx)("thead",{class:"thead-dark",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",children:"#"}),Object(h.jsx)("th",{scope:"col",children:"Date"}),Object(h.jsx)("th",{scope:"col",children:"Milk Taken (in ltrs.)"}),Object(h.jsx)("th",{scope:"col",children:"Update"}),Object(h.jsx)("th",{scope:"col",children:"Delete"})]})}),Object(h.jsx)("tbody",{children:u.map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:t+1}),Object(h.jsx)("td",{children:e.date}),Object(h.jsx)("td",{children:e.taken}),Object(h.jsx)("td",{children:Object(h.jsx)(v.a,{class:"primary",onClick:function(){return k(e)},children:"Update"})}),Object(h.jsx)("td",{children:Object(h.jsx)(v.a,{class:"primary",onClick:function(){return function(e){window.confirm("Are you sure of deleting the item from database?")?(O.firestore().collection("billData").doc(e.date).delete(),window.location.reload(!0)):window.location.reload(!0)}(e)},children:"Delete"})})]},t)}))})]})]})}var D=function(){return Object(h.jsx)(l.a,{children:Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light fixed-top",children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(l.b,{className:"navbar-brand",to:"/log-in",children:"Bill-Stack"}),Object(h.jsx)("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo02",children:Object(h.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(l.b,{className:"nav-link",to:"/log-in",children:"Sign in"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(l.b,{className:"nav-link",to:"/sign-up",children:"Sign up"})})]})})]})}),Object(h.jsx)("div",{className:"outer",children:Object(h.jsx)("div",{className:"inner",children:Object(h.jsxs)(i.c,{children:[Object(h.jsx)(i.a,{exact:!0,path:"/",element:Object(h.jsx)(k,{})}),Object(h.jsx)(i.a,{exact:!0,path:"/manage-my-bills",element:Object(h.jsx)(k,{})}),Object(h.jsx)(i.a,{exact:!0,path:"/dashboard",element:Object(h.jsx)(g,{})}),Object(h.jsx)(i.a,{path:"/log-in",element:Object(h.jsx)(k,{})}),Object(h.jsx)(i.a,{path:"/sign-up",element:Object(h.jsx)(u,{})}),Object(h.jsx)(i.a,{path:"/addDetails",element:Object(h.jsx)(y,{})}),Object(h.jsx)(i.a,{path:"/calculateBill",element:Object(h.jsx)(N,{})}),Object(h.jsx)(i.a,{path:"/viewData",element:Object(h.jsx)(S,{})})]})})})]})})},C=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,66)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};r.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(D,{})}),document.getElementById("root")),C()}},[[63,1,2]]]);
//# sourceMappingURL=main.7b113f2f.chunk.js.map